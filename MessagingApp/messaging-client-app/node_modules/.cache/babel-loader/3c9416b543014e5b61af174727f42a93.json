{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Messaging.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nlet stompClient = null;\n\nconst onConnected = () => {\n  // Subscribing to the public topic\n  stompClient.subscribe('/topic/pubic', onMessageReceived()); // Registering user to server as a public chat user\n\n  stompClient.send(\"/app/addUser\", {}, JSON.stringify({\n    sender: 'test',\n    message: 'JOIN'\n  }));\n};\n\nconst connect = userName => {\n  userName = \"test\";\n\n  if (userName) {\n    const Stomp = require('stompjs');\n\n    let SockJS = require('sockjs-client');\n\n    SockJS = new SockJS('http://localhost:8080/ws');\n    stompClient = Stomp.over(SockJS);\n    console.log(stompClient);\n    stompClient.connect({}, onConnected, onError);\n  }\n};\n\nconst onError = error => {};\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    margin: theme.spacing(3),\n    minWidth: 120,\n    boxSizing: 'border-box',\n    height: '90vh'\n  },\n  textField: {\n    position: \"relative\",\n    float: \"right\",\n    top: \"84vh\",\n    width: '100%'\n  }\n}));\n\nconst onMessageReceived = payload => {\n  if (payload != undefined) {\n    let message = JSON.parse(payload.body);\n    console.log(message);\n  }\n};\n\nconst sendMessage = () => {\n  if (stompClient) {\n    let chatMessage = {\n      sender: \"test\",\n      message: \"hello\"\n    }; // send public message\n\n    stompClient.send(\"/app/sendMessage\", {}, JSON.stringify(chatMessage));\n  }\n};\n\nexport default function Messaging() {\n  _s();\n\n  useEffect(() => {\n    connect(\"test\");\n  });\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      className: classes.container,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.textField,\n        id: \"filled-basic\",\n        label: \"Filled\",\n        variant: \"filled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => sendMessage(),\n        children: \"hello\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Messaging, \"v7TDUGheAkBmKIQo9Gj65jeexyQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = Messaging;\n\nvar _c;\n\n$RefreshReg$(_c, \"Messaging\");","map":{"version":3,"sources":["/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Messaging.jsx"],"names":["React","useEffect","TextField","Paper","makeStyles","Button","stompClient","onConnected","subscribe","onMessageReceived","send","JSON","stringify","sender","message","connect","userName","Stomp","require","SockJS","over","console","log","onError","error","useStyles","theme","container","margin","spacing","minWidth","boxSizing","height","textField","position","float","top","width","payload","undefined","parse","body","sendMessage","chatMessage","Messaging","classes"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\n\n\nlet stompClient = null;\n\nconst onConnected = () => {\n\n  // Subscribing to the public topic\n  stompClient.subscribe('/topic/pubic', onMessageReceived());\n\n  // Registering user to server as a public chat user\n  stompClient.send(\"/app/addUser\", {}, JSON.stringify({ sender:'test' ,message:'JOIN' }))\n\n}\n\nconst connect = (userName) => {\n\n    userName = \"test\";\n\n    if (userName) {\n\n      const Stomp = require('stompjs')\n\n      let SockJS = require('sockjs-client')\n\n      SockJS = new SockJS('http://localhost:8080/ws')\n\n      stompClient = Stomp.over(SockJS);\n\n      console.log(stompClient);\n\n      stompClient.connect({}, onConnected, onError);\n\n    }\n  }\n\n\n  const onError = (error) => {\n    \n  }\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n      margin: theme.spacing(3),\n      minWidth: 120,\n      boxSizing: 'border-box',\n      height: '90vh'\n\n    },\n    textField: {\n        position: \"relative\",\n        float:\"right\", \n        top:\"84vh\",\n        width:'100%'\n    },\n  }));\n\n const onMessageReceived = (payload) => {\n\n  if (payload != undefined) {\n    let message = JSON.parse(payload.body);\n\n    console.log(message);\n  }\n    \n }\n\n const sendMessage = () => {\n\n  if (stompClient) {\n    let chatMessage = {\n      sender: \"test\",\n      message: \"hello\"\n\n    };\n    // send public message\n    stompClient.send(\"/app/sendMessage\", {}, JSON.stringify(chatMessage));\n  }\n}\n\n\nexport default function Messaging() {\n\n  useEffect(() => {\n    connect(\"test\");\n  })\n\n    const classes = useStyles();\n\n    return (\n        <div>\n        <Paper elevation={3} className={classes.container}>\n        <TextField className={classes.textField} id=\"filled-basic\" label=\"Filled\" variant=\"filled\" />\n        <Button onClick={() => sendMessage()}>hello</Button>\n        </Paper>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}