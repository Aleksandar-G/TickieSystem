[{"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/index.js":"1","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/reportWebVitals.js":"2","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/App.js":"3","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Messaging.jsx":"4","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Login.jsx":"5","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Message.jsx":"6","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Message.jsx":"7","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/RenderMessages.jsx":"8"},{"size":500,"mtime":1610358048289,"results":"9","hashOfConfig":"10"},{"size":362,"mtime":1610358048289,"results":"11","hashOfConfig":"10"},{"size":452,"mtime":1610366999916,"results":"12","hashOfConfig":"10"},{"size":3528,"mtime":1610366162873,"results":"13","hashOfConfig":"10"},{"size":2001,"mtime":1610367594339,"results":"14","hashOfConfig":"10"},{"size":371,"mtime":1610278881934,"results":"15","hashOfConfig":"10"},{"size":1144,"mtime":1610364916438,"results":"16","hashOfConfig":"10"},{"size":807,"mtime":1610366047354,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"8bvuuz",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/index.js",[],["37","38"],"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/reportWebVitals.js",[],"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/App.js",[],"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Messaging.jsx",["39","40","41","42","43","44"],"import React, {useEffect,useState} from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { positions } from '@material-ui/system';\nimport Message from '../Components/Message';\nimport RenderMessages from '../Components/RenderMessages';\nimport { render } from 'react-dom';\n\n\n\nlet stompClient = null;\n\n  const onError = (error) => {\n    \n  }\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n      margin: theme.spacing(3),\n      minWidth: 120,\n      boxSizing: 'border-box',\n      height: '80vh',\n      zIndex: '-1'\n      \n\n    },\n    textField: {\n        position: \"relative\",\n        marginLeft:theme.spacing(3),\n        float:\"left\", \n        width:'78%',\n        zIndex: '1'\n    },\n    button:{\n      position: \"relative\",\n        float:\"right\", \n        marginRight:theme.spacing(3),\n        width:'18%',\n        zIndex: '1',\n        padding: theme.spacing(2)\n    },\n    div:{\n      position: \"absolute\",\n      backgroundColor: 'grey',\n      float:'right',\n      width:'100%',\n      marginRight:theme.spacing(3)\n    }\n  }));\n\n\nexport default function Messaging() {\n\n  let [messageCount, setmessageCount] = useState(0);\n  const [messages, setmessages] = useState([]);\n  const [newMessage, setNewMessage] = useState({});\n\n  \n\n\n\n  const connect = (userName) => {\n\n    userName = \"test\";\n\n    if (userName) {\n\n      const Stomp = require('stompjs')\n\n      let SockJS = require('sockjs-client')\n\n      SockJS = new SockJS('http://localhost:8080/ws')\n\n      stompClient = Stomp.over(SockJS);\n\n      console.log(stompClient);\n\n      stompClient.connect({}, onConnected, onError);\n\n    }\n  }\n\n  const onMessageReceived = (payload) => {\n    if (payload) {\n      \n      let message = JSON.parse(payload.body);\n\n      setNewMessage(message);\n      setmessageCount(messageCount++);\n\n      let m = newMessage;\n      let a = messages;\n\n      let ah = messages;\n      ah.push(message);\n\n      ah.forEach(element => {\n        setmessages([...messages,{element}]);\n      });\n\n   \n    }\n      \n   }\n\n  const onConnected = () => {\n\n    // Subscribing to the public topic\n    stompClient.subscribe('/topic/pubic', onMessageReceived);\n  \n    // Registering user to server as a public chat user\n    stompClient.send(\"/app/addUser\", {}, JSON.stringify({ sender:'test' ,message:'JOIN' }))\n  \n  }\n\n  const sendMessage = () => {\n    if (stompClient) {\n      let chatMessage = {\n        sender: \"test\",\n        message: newMessage\n  \n      };\n      // send public message\n      stompClient.send(\"/app/sendMessage\", {}, JSON.stringify(chatMessage));\n\n      setNewMessage('');\n\n    }\n  }\n\n  const handleMessageChange =(event) =>{\n\n    setNewMessage(event.target.value)\n  }\n\n  useEffect(() => {\n    connect(\"test\");\n  },[])\n\n  useEffect(() => {\n    console.log(\"aide de\");\n\n  }, [messageCount])\n\n  \n\n    const classes = useStyles();\n\n    return (\n        <div>\n        <Paper elevation={3} className={classes.container}>\n        <Grid container spacing={3}>\n        <RenderMessages messages={messages} />\n        </Grid>\n        </Paper>\n\n        <TextField onChange={(event) => handleMessageChange(event)} className={classes.textField} id=\"filled-basic\" label=\"Filled\" variant=\"filled\" />\n        <Button className={classes.button} variant=\"outlined\" color=\"primary\" onClick={() => sendMessage()}>Send</Button>\n        </div>\n    )\n}\n","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Login.jsx",["45","46"],"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Message.jsx",[],"/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/Message.jsx",["47","48","49"],"import React,{useEffect,useState} from 'react'\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nexport default function Message(props) {\n\n//<Paper>message: {element.message} from: {element.sender}</Paper>\n//let [state, setstate] = useState(0)\n\nconst work = () =>{\n    console.log(\"test\"+ props.messages);\n    if(props.messages.length !== 0){\n    let mess = [];\n    for (let i = 0; i < props.messages.length-1; i++) {\n        const element = props.messages[i];\n        mess.push( <Grid item xs={12}>\n            <Paper>message: asdasd from: asdasd</Paper>\n            </Grid>)\n    }\n\n    return mess;\n}\n}\n\nuseEffect(() => {\n    work();\n}, [props.messages.length])\n\n    return (\n       /* if(props.messages.length !== 0){\n            let mess = [];\n            for (let i = 0; i < props.messages.length-1; i++) {\n                const element = props.messages[i];\n                mess.push( <Grid item xs={12}>\n                    <Paper>message: asdasd from: asdasd</Paper>\n                    </Grid>)\n            }\n        \n            return mess;\n        }*/\n        <div>\n        </div>\n    );\n    }\n","/home/ag/Fontys/IT/tickiesystem/MessagingApp/messaging-client-app/src/Components/RenderMessages.jsx",[],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":7,"column":10,"nodeType":"56","messageId":"57","endLine":7,"endColumn":19},{"ruleId":"54","severity":1,"message":"58","line":8,"column":8,"nodeType":"56","messageId":"57","endLine":8,"endColumn":15},{"ruleId":"54","severity":1,"message":"59","line":10,"column":10,"nodeType":"56","messageId":"57","endLine":10,"endColumn":16},{"ruleId":"54","severity":1,"message":"60","line":94,"column":11,"nodeType":"56","messageId":"57","endLine":94,"endColumn":12},{"ruleId":"54","severity":1,"message":"61","line":95,"column":11,"nodeType":"56","messageId":"57","endLine":95,"endColumn":12},{"ruleId":"62","severity":1,"message":"63","line":141,"column":5,"nodeType":"64","endLine":141,"endColumn":7,"suggestions":"65"},{"ruleId":"54","severity":1,"message":"66","line":8,"column":10,"nodeType":"56","messageId":"57","endLine":8,"endColumn":14},{"ruleId":"54","severity":1,"message":"67","line":9,"column":27,"nodeType":"56","messageId":"57","endLine":9,"endColumn":33},{"ruleId":"54","severity":1,"message":"68","line":1,"column":25,"nodeType":"56","messageId":"57","endLine":1,"endColumn":33},{"ruleId":"54","severity":1,"message":"69","line":15,"column":15,"nodeType":"56","messageId":"57","endLine":15,"endColumn":22},{"ruleId":"62","severity":1,"message":"70","line":27,"column":4,"nodeType":"64","endLine":27,"endColumn":27,"suggestions":"71"},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'positions' is defined but never used.","Identifier","unusedVar","'Message' is defined but never used.","'render' is defined but never used.","'m' is assigned a value but never used.","'a' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'connect'. Either include it or remove the dependency array.","ArrayExpression",["74"],"'Link' is defined but never used.","'Router' is defined but never used.","'useState' is defined but never used.","'element' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'work'. Either include it or remove the dependency array.",["75"],"no-global-assign","no-unsafe-negation",{"desc":"76","fix":"77"},{"desc":"78","fix":"79"},"Update the dependencies array to be: [connect]",{"range":"80","text":"81"},"Update the dependencies array to be: [props.messages.length, work]",{"range":"82","text":"83"},[2913,2915],"[connect]",[678,701],"[props.messages.length, work]"]